# üçµ Sistema de Controle de Vendas - Cafeteria BomGosto

Sistema de banco de dados para gerenciamento de vendas de caf√© atrav√©s de comandas digitais.

[![SQL](https://img.shields.io/badge/SQL-MySQL-blue)](https://www.mysql.com/)
[![Status](https://img.shields.io/badge/Status-Completo-success)](https://github.com)
[![License](https://img.shields.io/badge/License-Academic-yellow)](https://github.com)

---

## üìã Sobre o Projeto

A cafeteria **BomGosto** necessita de um sistema para controlar suas vendas de caf√©. O sistema registra comandas com informa√ß√µes do cliente e permite associar m√∫ltiplos produtos do card√°pio a cada venda, controlando quantidades e calculando valores totais.

### Funcionalidades
- ‚úÖ Cadastro de produtos no card√°pio
- ‚úÖ Registro de comandas por mesa/cliente
- ‚úÖ Controle de itens vendidos por comanda
- ‚úÖ C√°lculo autom√°tico de valores
- ‚úÖ Relat√≥rios de vendas e faturamento

---

## üóÑÔ∏è Tecnologias Utilizadas

- **SQL** - Linguagem de consulta estruturada
- **MySQL 8.0+** - Sistema gerenciador de banco de dados
- **Git/GitHub** - Controle de vers√£o

---

## üìä Modelagem do Banco de Dados

### Entidades Principais

**CARDAPIO**
- `codigo_cardapio` (PK): Identificador √∫nico do produto
- `nome_cafe` (UNIQUE): Nome do caf√©
- `descricao`: Descri√ß√£o da composi√ß√£o
- `preco_unitario`: Pre√ßo por unidade

**COMANDA**
- `codigo_comanda` (PK): Identificador √∫nico da comanda
- `data_comanda`: Data da venda
- `numero_mesa`: N√∫mero da mesa do cliente
- `nome_cliente`: Nome do cliente

**ITEMCOMANDA**
- `codigo_comanda` (PK, FK): Refer√™ncia √† comanda
- `codigo_cardapio` (PK, FK): Refer√™ncia ao produto
- `quantidade`: Quantidade vendida

### Relacionamentos
```
CARDAPIO (1) ----< (N) ITEMCOMANDA (N) >---- (1) COMANDA
```

---

## üöÄ Como Executar

### Pr√©-requisitos
- MySQL 8.0 ou superior instalado
- Cliente MySQL (mysql-client, MySQL Workbench, etc.)

### Op√ß√£o 1: Executar arquivo completo
```bash
mysql -u root -p nome_do_banco < cafeteria-bomgosto.sql
```

### Op√ß√£o 2: Executar por etapas
```bash
# 1. Criar tabelas
mysql -u root -p nome_do_banco < database/01-create-tables.sql

# 2. Inserir dados
mysql -u root -p nome_do_banco < database/02-insert-data.sql

# 3. Executar consultas
mysql -u root -p nome_do_banco < database/03-queries.sql
```

### Op√ß√£o 3: Executar quest√µes individuais
```bash
mysql -u root -p nome_do_banco < scripts/questao-01.sql
mysql -u root -p nome_do_banco < scripts/questao-02.sql
# ... e assim por diante
```

---

## üìù Quest√µes Resolvidas

### QUEST√ÉO 1: Card√°pio Ordenado por Nome

**Objetivo:** Listar todos os caf√©s do card√°pio em ordem alfab√©tica.

**Query:**
```sql
SELECT 
    codigo_cardapio,
    nome_cafe,
    descricao,
    preco_unitario
FROM Cardapio
ORDER BY nome_cafe;
```

**Resultado:**
```
+------------------+----------------+---------------------------------------+----------------+
| codigo_cardapio  | nome_cafe      | descricao                             | preco_unitario |
+------------------+----------------+---------------------------------------+----------------+
|        5         | Americano      | Espresso dilu√≠do em √°gua quente       |     6.50       |
|        3         | Caf√© com Leite | Caf√© coado com leite quente           |     6.00       |
|        2         | Cappuccino     | Caf√© com leite vaporizado e espuma    |     8.50       |
|        1         | Espresso       | Caf√© espresso tradicional             |     5.00       |
|        6         | Latte          | Caf√© com muito leite vaporizado       |     9.00       |
|        4         | Mocha          | Caf√© com chocolate e chantilly        |    10.00       |
+------------------+----------------+---------------------------------------+----------------+
6 rows in set (0.00 sec)
```

---

### QUEST√ÉO 2: Comandas com Itens Detalhados

**Objetivo:** Exibir todas as comandas com seus respectivos itens, incluindo detalhes do caf√© e c√°lculo do pre√ßo total de cada item.

**Query:**
```sql
SELECT 
    c.codigo_comanda,
    c.data_comanda,
    c.numero_mesa,
    c.nome_cliente,
    card.nome_cafe,
    card.descricao,
    ic.quantidade,
    card.preco_unitario,
    (ic.quantidade * card.preco_unitario) AS preco_total_cafe
FROM Comanda c
INNER JOIN ItemComanda ic ON c.codigo_comanda = ic.codigo_comanda
INNER JOIN Cardapio card ON ic.codigo_cardapio = card.codigo_cardapio
ORDER BY c.data_comanda, c.codigo_comanda, card.nome_cafe;
```

**Resultado:**
```
+----------------+--------------+-------------+----------------+----------------+---------------------------------------+------------+----------------+------------------+
| codigo_comanda | data_comanda | numero_mesa | nome_cliente   | nome_cafe      | descricao                             | quantidade | preco_unitario | preco_total_cafe |
+----------------+--------------+-------------+----------------+----------------+---------------------------------------+------------+----------------+------------------+
|       1        | 2025-10-20   |      5      | Jo√£o Silva     | Cappuccino     | Caf√© com leite vaporizado e espuma    |     1      |     8.50       |      8.50        |
|       1        | 2025-10-20   |      5      | Jo√£o Silva     | Espresso       | Caf√© espresso tradicional             |     2      |     5.00       |     10.00        |
|       2        | 2025-10-20   |      3      | Maria Santos   | Caf√© com Leite | Caf√© coado com leite quente           |     3      |     6.00       |     18.00        |
|       3        | 2025-10-21   |      7      | Pedro Costa    | Americano      | Espresso dilu√≠do em √°gua quente       |     1      |     6.50       |      6.50        |
|       3        | 2025-10-21   |      7      | Pedro Costa    | Espresso       | Caf√© espresso tradicional             |     1      |     5.00       |      5.00        |
|       3        | 2025-10-21   |      7      | Pedro Costa    | Mocha          | Caf√© com chocolate e chantilly        |     2      |    10.00       |     20.00        |
|       4        | 2025-10-21   |      2      | Ana Oliveira   | Cappuccino     | Caf√© com leite vaporizado e espuma    |     2      |     8.50       |     17.00        |
|       5        | 2025-10-22   |      4      | Carlos Mendes  | Espresso       | Caf√© espresso tradicional             |     1      |     5.00       |      5.00        |
+----------------+--------------+-------------+----------------+----------------+---------------------------------------+------------+----------------+------------------+
8 rows in set (0.01 sec)
```

**Insights:**
- A comanda 1 (Jo√£o Silva) pediu 2 Espressos e 1 Cappuccino
- A comanda 3 (Pedro Costa) foi a mais variada com 3 tipos de caf√© diferentes
- Maria Santos pediu 3 unidades do mesmo caf√© (Caf√© com Leite)

---

### QUEST√ÉO 3: Comandas com Valor Total

**Objetivo:** Listar todas as comandas com o valor total de cada uma, ordenadas por data.

**Query:**
```sql
SELECT 
    c.codigo_comanda,
    c.data_comanda,
    c.numero_mesa,
    c.nome_cliente,
    SUM(ic.quantidade * card.preco_unitario) AS valor_total_comanda
FROM Comanda c
INNER JOIN ItemComanda ic ON c.codigo_comanda = ic.codigo_comanda
INNER JOIN Cardapio card ON ic.codigo_cardapio = card.codigo_cardapio
GROUP BY c.codigo_comanda, c.data_comanda, c.numero_mesa, c.nome_cliente
ORDER BY c.data_comanda;
```

**Resultado:**
```
+----------------+--------------+-------------+----------------+---------------------+
| codigo_comanda | data_comanda | numero_mesa | nome_cliente   | valor_total_comanda |
+----------------+--------------+-------------+----------------+---------------------+
|       1        | 2025-10-20   |      5      | Jo√£o Silva     |        18.50        |
|       2        | 2025-10-20   |      3      | Maria Santos   |        18.00        |
|       3        | 2025-10-21   |      7      | Pedro Costa    |        31.50        |
|       4        | 2025-10-21   |      2      | Ana Oliveira   |        17.00        |
|       5        | 2025-10-22   |      4      | Carlos Mendes  |         5.00        |
+----------------+--------------+-------------+----------------+---------------------+
5 rows in set (0.00 sec)
```

**An√°lise:**
- **Maior venda:** Pedro Costa (R$ 31,50) - 3 tipos de caf√©
- **Menor venda:** Carlos Mendes (R$ 5,00) - apenas 1 Espresso
- **Ticket m√©dio:** R$ 18,00

---

### QUEST√ÉO 4: Comandas com Mais de Um Tipo de Caf√©

**Objetivo:** Mostrar apenas as comandas que possuem mais de um tipo de caf√© diferente.

**Query:**
```sql
SELECT 
    c.codigo_comanda,
    c.data_comanda,
    c.numero_mesa,
    c.nome_cliente,
    SUM(ic.quantidade * card.preco_unitario) AS valor_total_comanda
FROM Comanda c
INNER JOIN ItemComanda ic ON c.codigo_comanda = ic.codigo_comanda
INNER JOIN Cardapio card ON ic.codigo_cardapio = card.codigo_cardapio
GROUP BY c.codigo_comanda, c.data_comanda, c.numero_mesa, c.nome_cliente
HAVING COUNT(DISTINCT ic.codigo_cardapio) > 1
ORDER BY c.data_comanda;
```

**Resultado:**
```
+----------------+--------------+-------------+--------------+---------------------+
| codigo_comanda | data_comanda | numero_mesa | nome_cliente | valor_total_comanda |
+----------------+--------------+-------------+--------------+---------------------+
|       1        | 2025-10-20   |      5      | Jo√£o Silva   |        18.50        |
|       3        | 2025-10-21   |      7      | Pedro Costa  |        31.50        |
+----------------+--------------+-------------+--------------+---------------------+
2 rows in set (0.00 sec)
```

**Observa√ß√µes:**
- Apenas 2 comandas (40%) tiveram mais de um tipo de caf√©
- Jo√£o Silva pediu 2 tipos diferentes
- Pedro Costa pediu 3 tipos diferentes (mais variado)
- As comandas 2, 4 e 5 ficaram de fora por terem apenas 1 tipo de caf√©

---

### QUEST√ÉO 5: Faturamento Total por Data

**Objetivo:** Calcular o faturamento total de cada dia, ordenado cronologicamente.

**Query:**
```sql
SELECT 
    c.data_comanda,
    SUM(ic.quantidade * card.preco_unitario) AS faturamento_total
FROM Comanda c
INNER JOIN ItemComanda ic ON c.codigo_comanda = ic.codigo_comanda
INNER JOIN Cardapio card ON ic.codigo_cardapio = card.codigo_cardapio
GROUP BY c.data_comanda
ORDER BY c.data_comanda;
```

**Resultado:**
```
+--------------+-------------------+
| data_comanda | faturamento_total |
+--------------+-------------------+
| 2025-10-20   |       36.50       |
| 2025-10-21   |       48.50       |
| 2025-10-22   |        5.00       |
+--------------+-------------------+
3 rows in set (0.00 sec)
```

**Dashboard de Vendas:**
```
üìä An√°lise de Faturamento (3 dias)

20/10/2025: R$ 36,50  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  (40.6%)
21/10/2025: R$ 48,50  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  (53.9%)  ‚≠ê Melhor dia
22/10/2025: R$  5,00  ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  ( 5.6%)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
TOTAL:      R$ 90,00
M√âDIA:      R$ 30,00/dia
COMANDAS:   5 vendas
```

**Insights Comerciais:**
- üìà Melhor dia: 21/10 com R$ 48,50 (crescimento de 33% em rela√ß√£o ao dia anterior)
- üìâ Queda significativa no dia 22/10 (apenas 1 comanda)
- üí∞ Faturamento total do per√≠odo: R$ 90,00
- üìä M√©dia di√°ria: R$ 30,00

---

## üìà Estat√≠sticas do Sistema

### Produtos Mais Vendidos
```
1. Espresso      - 4 vendas (50% das comandas)
2. Cappuccino    - 2 vendas (25% das comandas)
3. Caf√© com Leite - 1 venda
4. Mocha         - 1 venda
5. Americano     - 1 venda
```

### An√°lise de Ticket M√©dio
```
Ticket M√©dio por Comanda: R$ 18,00
Maior Ticket:            R$ 31,50 (Comanda 3)
Menor Ticket:            R$  5,00 (Comanda 5)
```

---

## üìÇ Estrutura do Reposit√≥rio

```
cafeteria-bomgosto/
‚îÇ
‚îú‚îÄ‚îÄ README.md                              ‚Üê Voc√™ est√° aqui
‚îú‚îÄ‚îÄ cafeteria-bomgosto.sql                 ‚Üê Script completo (tudo em um)
‚îÇ
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ 01-create-tables.sql               ‚Üê Cria√ß√£o das tabelas
‚îÇ   ‚îú‚îÄ‚îÄ 02-insert-data.sql                 ‚Üê Dados de teste
‚îÇ   ‚îî‚îÄ‚îÄ 03-queries.sql                     ‚Üê Todas as consultas
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ questao-01.sql                     ‚Üê Query da quest√£o 1
‚îÇ   ‚îú‚îÄ‚îÄ questao-02.sql                     ‚Üê Query da quest√£o 2
‚îÇ   ‚îú‚îÄ‚îÄ questao-03.sql                     ‚Üê Query da quest√£o 3
‚îÇ   ‚îú‚îÄ‚îÄ questao-04.sql                     ‚Üê Query da quest√£o 4
‚îÇ   ‚îî‚îÄ‚îÄ questao-05.sql                     ‚Üê Query da quest√£o 5
‚îÇ
```

---

## üéØ Regras de Neg√≥cio Implementadas

‚úÖ **Unicidade de Produtos:** Cada caf√© no card√°pio possui nome √∫nico  
‚úÖ **Restri√ß√£o de Duplica√ß√£o:** N√£o √© poss√≠vel inserir o mesmo caf√© mais de uma vez na mesma comanda  
‚úÖ **Integridade Referencial:** Uso de chaves estrangeiras para manter consist√™ncia  
‚úÖ **Valida√ß√£o de Dados:** Campos obrigat√≥rios e tipos adequados  
‚úÖ **C√°lculos Autom√°ticos:** Pre√ßo total calculado via SQL (quantidade √ó pre√ßo unit√°rio)


